## Spring Main Point

[강의 - 스프링 핵심 원리(김영한 개발자)](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8)

# 목표

- 먼저 스프링을 쓰지 않고 순수 자바를 통해 예제를 설계 및 구현해보고 스프링에 핵심 요소들을 적용해가며 스프링을 이해한다.

# 예제

- 순수 자바로 회원, 주문, 할인 도메인을 설계 및 구현해본다.

- 여기서 말하는 도메인이란?
```
소프트웨어로 해결하고자 하는 문제의 영역을 도메인이라고 한다.
메인 도메인에서 하위 도메인으로 나뉠 수 있는데, 여기서 회원의 하위 도메인은
회원 가입, 회원 조회 등으로 볼 수 있다.

참고 : https://joont92.github.io/ddd/%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%AA%A8%EB%8D%B8/
```

# 비즈니스 요구사항과 설계

## 요구사항

- 회원
```
- 회원을 가입하고 조회할 수 있다.
- 회원은 일반과 VIP 두 가지 등급이 있다.
- 회원 데이터는 자체 DB를 구축할 수 있고, 외부 시스템과 연동할 수 있다. (미확정)
```

- 주문과 할인 정책
```
- 회원은 상품을 주문할 수 있다.
- 회원 등급에 따라 할인 정책을 적용할 수 있다.
- 할인 정책은 모든 VIP는 1000원을 할인해주는 고정 금액 할인을 적용.(나중에 변경 될 수 있다.)
- 할인 정책은 변경 가능성이 높다. 회사의 기본 할인 정책을 아직 정하지 못했고, 오픈 직전까지 고민을 미루고 싶다. 최악의 경우 할인을 적용하지 않을 수 도 있다. (미확정)
```

## 설계

### 회원 도메인

**회원 도메인 협력 관계**

![회원_도메인_협력_관계](readmeImgFiles/회원_도메인_협력_관계.png)

```
각 도메인의 협력 관계를 알아본다. 
요구사항을 확인해보면 미확정된 요구사항도 있기에 먼저 큰그림을 그려야한다.
미확정된 회원 저장소의 경우, 제일 간단한 메모리 회원 저장소로 구현한다.

*chekc
기획자와 같이 보는 단계다.

*check
메모리 : 휘발성이다. 서버를 종료하면 데이터는 사라진다.
DB, 외부 저장소 연동 : 데이터를 저장하기에 서버를 종료해도 데이터가 남아있다.
```

**회원 클래스 다이어그램**

![회원_클래스_다이어그램](readmeImgFiles/회원_클래스_다이어그램.png)

```
위에서 큰그림을 그렸다면 이번엔 구현을 어떻게 할 것인지 설계하는 단계다. 이 단계에서는 인터페이스와 클래스의 관계 및 이름을 설정한다.

*check
개발자들끼리 보는 단계다.

*check
역활을 잘 설정해놓으면 구현을 손쉽게 확장할 수 있다. 
(interface : 역활, class : 구현)
MemberRepository의 경우를 보면 역활이 잘 설정되었기에 먼저 메모리 저장소를 쓰다가도 나중에 DB 저장소로 손쉽게 변경할 수 있다.
```

**회원 객체 다이어그램**

![회원_객체_다이어그램](readmeImgFiles/회원_객체_다이어그램.png)

- 여기서 회원 서비스는 MemberServiceImpl로 보면 된다.

```
실제로 서버가 동작할 때, 사용되는 객체를 의미한다. 
위에서는 '이거 이거도 쓸 수 있지.'하는 단계였다면 이번엔 '이거 쓰고 있어!' 라고 확정된 단계다. 
즉, 실제 서버에서 동작중인 서비스는 객체 다이어그램대로 흘러간다.
```

